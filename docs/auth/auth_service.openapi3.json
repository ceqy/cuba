{
  "openapi": "3.1.0",
  "info": {
    "title": "Auth Service API",
    "description": "用户身份验证、双因素认证、RBAC 权限管理及租户管理服务",
    "version": "0.1.0",
    "contact": {
      "name": "Auth Team",
      "email": "auth@yourproject.com"
    }
  },
  "tags": [
    {
      "name": "AuthService",
      "description": "用户身份验证、双因素认证、RBAC 权限管理及租户管理服务"
    },
    {
      "name": "Identity Management",
      "description": "身份管理 (Identity) - 登录与注册"
    },
    {
      "name": "Role & Permission Management",
      "description": "Role & Permission Management"
    },
    {
      "name": "Security & 2FA",
      "description": "安全与双因素 (Security) - 2FA与验证"
    }
  ],
  "paths": {
    "/api/v1/admin/audit-logs": {
      "get": {
        "summary": "获取用户操作审计日志（管理员用）",
        "operationId": "AuthService_GetAuditLogs",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authGetAuditLogsResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "user_id",
            "description": "可选过滤",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "start_time",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "end_time",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pagination.descending",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "filter.actions",
            "in": "query",
            "required": false,
            "explode": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "filter.date_range.start_date",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "filter.date_range.end_date",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "filter.ip_address",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/admin/users": {
      "get": {
        "summary": "获取用户列表（管理员分页查询）",
        "operationId": "AuthService_ListUsers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authListUsersResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "role_id",
            "description": "可选过滤角色",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "description": "模糊搜索 username/email/display_name",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pagination.descending",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "filter.statuses",
            "in": "query",
            "required": false,
            "explode": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "filter.roles",
            "in": "query",
            "required": false,
            "explode": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "filter.created_range.start_date",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "filter.created_range.end_date",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/admin/users/bulk": {
      "post": {
        "summary": "批量导入用户（企业常见）",
        "operationId": "AuthService_BulkCreateUsers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authBulkCreateUsersResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authBulkCreateUsersRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/admin/users/{user_id}/status": {
      "put": {
        "summary": "禁用/启用用户账号",
        "operationId": "AuthService_UpdateUserStatus",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authUpdateUserStatusResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthServiceUpdateUserStatusBody"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/api-keys": {
      "get": {
        "operationId": "AuthService_ListAPIKeys",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authListAPIKeysResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pagination.descending",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      },
      "post": {
        "summary": "创建API Key",
        "operationId": "AuthService_CreateAPIKey",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authCreateAPIKeyResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authCreateAPIKeyRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/api-keys/{key_id}": {
      "delete": {
        "operationId": "AuthService_RevokeAPIKey",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authRevokeAPIKeyResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/auth/2fa/enable": {
      "post": {
        "summary": "启用双因素认证",
        "operationId": "AuthService_Enable2FA",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authEnable2FAResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authEnable2FARequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "Security & 2FA"
        ]
      }
    },
    "/api/v1/auth/2fa/login": {
      "post": {
        "summary": "登录时验证2FA代码",
        "operationId": "AuthService_Verify2FACode",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authVerify2FACodeResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authVerify2FACodeRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/auth/2fa/verify": {
      "post": {
        "summary": "验证2FA并完成启用",
        "operationId": "AuthService_Verify2FASetup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authVerify2FAResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authVerify2FARequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/auth/change-password": {
      "post": {
        "summary": "修改密码",
        "operationId": "AuthService_ChangePassword",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authChangePasswordResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authChangePasswordRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "Identity Management"
        ]
      }
    },
    "/api/v1/auth/forgot-password": {
      "post": {
        "summary": "发送重置密码邮件/验证码（忘记密码第一步）",
        "operationId": "AuthService_SendPasswordResetToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authSendPasswordResetTokenResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authSendPasswordResetTokenRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "summary": "用户登录",
        "operationId": "AuthService_Login",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authLoginResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authLoginRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "Identity Management"
        ]
      }
    },
    "/api/v1/auth/logout": {
      "post": {
        "summary": "用户登出",
        "operationId": "AuthService_Logout",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authLogoutResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authLogoutRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "Identity Management"
        ]
      }
    },
    "/api/v1/auth/me": {
      "get": {
        "summary": "获取用户信息",
        "operationId": "AuthService_GetUserInfo",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authGetUserInfoResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "user_id",
            "description": "用户ID",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "tags": [
          "Identity Management"
        ]
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "summary": "刷新令牌",
        "operationId": "AuthService_RefreshToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authRefreshTokenResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authRefreshTokenRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "Identity Management"
        ]
      }
    },
    "/api/v1/auth/register": {
      "post": {
        "summary": "用户注册",
        "operationId": "AuthService_Register",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authRegisterResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authRegisterRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "Identity Management"
        ]
      }
    },
    "/api/v1/auth/reset-password": {
      "post": {
        "summary": "重置密码（忘记密码流程）",
        "operationId": "AuthService_ResetPassword",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authResetPasswordResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authResetPasswordRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "Identity Management"
        ]
      }
    },
    "/api/v1/auth/sessions": {
      "get": {
        "summary": "获取当前用户的所有活跃会话",
        "operationId": "AuthService_ListUserSessions",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authListUserSessionsResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/auth/sessions/{session_id}": {
      "delete": {
        "summary": "撤销指定会话（登出其他设备）",
        "operationId": "AuthService_RevokeSession",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authRevokeSessionResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "session_id",
            "description": "\"all\" 表示全部撤销除当前",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/auth/social/login": {
      "post": {
        "summary": "第三方登录（OAuth2/Social Login）",
        "operationId": "AuthService_SocialLogin",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authLoginResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authSocialLoginRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/auth/sso/login": {
      "post": {
        "summary": "SSO 登录发起（IdP Initiated）",
        "operationId": "AuthService_SSOLogin",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authSSOLoginResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authSSOLoginRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/auth/sso/logout": {
      "post": {
        "summary": "SSO 登出（全局登出）",
        "operationId": "AuthService_GlobalLogout",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authGlobalLogoutResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authGlobalLogoutRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/auth/validate": {
      "post": {
        "summary": "验证令牌（供其他服务内部调用）",
        "operationId": "AuthService_ValidateToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authValidateTokenResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authValidateTokenRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/auth/verify-email": {
      "post": {
        "summary": "邮箱验证",
        "operationId": "AuthService_VerifyEmail",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authVerifyEmailResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authVerifyEmailRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "Identity Management"
        ]
      }
    },
    "/api/v1/oauth2/authorize": {
      "get": {
        "summary": "OAuth2 授权码模式 - 生成授权码（前端跳转用）",
        "operationId": "AuthService_Authorize",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authAuthorizeResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "response_type",
            "description": "\"code\"",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "client_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "redirect_uri",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "scope",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "user_id",
            "description": "内部已登录用户",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/oauth2/clients": {
      "get": {
        "operationId": "AuthService_ListClients",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authListClientsResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pagination.descending",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      },
      "post": {
        "summary": "客户端管理（应用注册）",
        "operationId": "AuthService_CreateClient",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authCreateClientResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authCreateClientRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/oauth2/token": {
      "post": {
        "summary": "OAuth2 Token Endpoint - 换取 access_token",
        "operationId": "AuthService_Token",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authTokenResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authTokenRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/oauth2/userinfo": {
      "get": {
        "summary": "OpenID Connect UserInfo Endpoint",
        "operationId": "AuthService_UserInfo",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authUserInfoResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "access_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/permissions": {
      "get": {
        "summary": "列出所有权限（管理员用）",
        "operationId": "AuthService_ListPermissions",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authListPermissionsResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pagination.descending",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "tags": [
          "Role & Permission Management"
        ]
      }
    },
    "/api/v1/policies": {
      "get": {
        "operationId": "AuthService_ListPolicies",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authListPoliciesResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pagination.descending",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      },
      "post": {
        "summary": "新增 Policy 相关",
        "operationId": "AuthService_CreatePolicy",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authCreatePolicyResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authCreatePolicyRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/policies/{policy_id}": {
      "get": {
        "operationId": "AuthService_GetPolicy",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authGetPolicyResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "policy_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      },
      "delete": {
        "operationId": "AuthService_DeletePolicy",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authDeletePolicyResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "policy_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/roles": {
      "get": {
        "summary": "列出角色（管理员用）",
        "operationId": "AuthService_ListRoles",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authListRolesResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "pagination.page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pagination.sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pagination.descending",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "tags": [
          "Role & Permission Management"
        ]
      },
      "post": {
        "summary": "创建角色",
        "operationId": "AuthService_CreateRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authCreateRoleResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authCreateRoleRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "Role & Permission Management"
        ]
      }
    },
    "/api/v1/roles/{role_id}": {
      "delete": {
        "summary": "删除角色",
        "operationId": "AuthService_DeleteRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authDeleteRoleResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/roles/{role_id}/permissions": {
      "post": {
        "summary": "添加权限到角色",
        "operationId": "AuthService_AddPermissionToRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authAddPermissionToRoleResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "role_id",
            "description": "角色ID",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthServiceAddPermissionToRoleBody"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/roles/{role_id}/permissions/{permission_id}": {
      "delete": {
        "summary": "移除角色权限",
        "operationId": "AuthService_RemovePermissionFromRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authRemovePermissionFromRoleResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "permission_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/roles/{role_id}/policies": {
      "post": {
        "operationId": "AuthService_AttachPolicyToRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authAttachPolicyToRoleResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthServiceAttachPolicyToRoleBody"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/users/profile": {
      "put": {
        "summary": "更新用户信息（昵称、头像等）",
        "operationId": "AuthService_UpdateUserProfile",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authUpdateUserProfileResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/authUpdateUserProfileRequest"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/users/{user_id}/permissions": {
      "get": {
        "summary": "获取用户权限列表",
        "operationId": "AuthService_GetUserPermissions",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authGetUserPermissionsResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "user_id",
            "description": "用户ID",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/users/{user_id}/policies": {
      "post": {
        "operationId": "AuthService_AttachPolicyToUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authAttachPolicyToUserResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthServiceAttachPolicyToUserBody"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/users/{user_id}/roles": {
      "post": {
        "summary": "分配角色给用户",
        "operationId": "AuthService_AssignRoleToUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authAssignRoleToUserResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "user_id",
            "description": "用户ID",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthServiceAssignRoleToUserBody"
              }
            }
          },
          "required": true
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/api/v1/users/{user_id}/roles/{role_id}": {
      "delete": {
        "summary": "移除用户角色",
        "operationId": "AuthService_RemoveRoleFromUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authRemoveRoleFromUserResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "tags": [
          "AuthService"
        ]
      }
    },
    "/health": {
      "get": {
        "summary": "服务健康检查",
        "operationId": "AuthService_HealthCheck",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authHealthCheckResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "tags": [
          "AuthService"
        ]
      }
    },
    "/metrics": {
      "get": {
        "summary": "获取服务统计指标（用于 Prometheus）",
        "operationId": "AuthService_GetMetrics",
        "responses": {
          "200": {
            "description": "A successful response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/authGetMetricsResponse"
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/rpcStatus"
                }
              }
            }
          }
        },
        "tags": [
          "AuthService"
        ]
      }
    }
  },
  "security": [
    {
      "bearer_auth": []
    },
    {
      "BearerAuth": []
    }
  ],
  "servers": [
    {
      "url": "http://localhost:8081"
    },
    {
      "url": "https://localhost:8081"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearer_auth": {
        "type": "apiKey",
        "description": "Bearer token for authentication",
        "name": "Authorization",
        "in": "header"
      },
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Enter your JWT token (e.g. from Login API)"
      }
    },
    "schemas": {
      "AuthServiceAddPermissionToRoleBody": {
        "type": "object",
        "properties": {
          "permission_id": {
            "type": "string",
            "title": "权限ID"
          },
          "context": {
            "$ref": "#/components/schemas/commonRequestContext"
          }
        },
        "title": "添加权限到角色请求"
      },
      "AuthServiceAssignRoleToUserBody": {
        "type": "object",
        "properties": {
          "role_id": {
            "type": "string",
            "title": "角色ID"
          },
          "context": {
            "$ref": "#/components/schemas/commonRequestContext"
          }
        },
        "title": "分配角色给用户请求"
      },
      "AuthServiceAttachPolicyToRoleBody": {
        "type": "object",
        "properties": {
          "policy_id": {
            "type": "string"
          },
          "context": {
            "$ref": "#/components/schemas/commonRequestContext"
          }
        }
      },
      "AuthServiceAttachPolicyToUserBody": {
        "type": "object",
        "properties": {
          "policy_id": {
            "type": "string"
          },
          "context": {
            "$ref": "#/components/schemas/commonRequestContext"
          }
        }
      },
      "AuthServiceUpdateUserStatusBody": {
        "type": "object",
        "properties": {
          "is_active": {
            "type": "boolean"
          }
        },
        "title": "禁用/启用用户"
      },
      "authAPIKey": {
        "type": "object",
        "properties": {
          "key_id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "prefix": {
            "type": "string",
            "title": "如 \"ak_1a2b3c\""
          },
          "hashed_key": {
            "type": "string",
            "title": "服务端存储"
          },
          "scopes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "权限范围"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "created_by_user_id": {
            "type": "string"
          }
        },
        "title": "API Key"
      },
      "authAddPermissionToRoleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "title": "是否成功"
          }
        },
        "title": "添加权限到角色响应"
      },
      "authAssignRoleToUserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "title": "是否成功"
          }
        },
        "title": "分配角色给用户响应"
      },
      "authAttachPolicyToRoleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "authAttachPolicyToUserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "authAuditFilter": {
        "type": "object",
        "properties": {
          "actions": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "date_range": {
            "$ref": "#/components/schemas/commonDateRange"
          },
          "ip_address": {
            "type": "string"
          }
        }
      },
      "authAuditLog": {
        "type": "object",
        "properties": {
          "log_id": {
            "type": "string"
          },
          "user_id": {
            "type": "string"
          },
          "tenant_id": {
            "type": "string"
          },
          "action": {
            "type": "string",
            "title": "如 \"login\", \"change_password\", \"assign_role\""
          },
          "resource": {
            "type": "string",
            "title": "操作资源"
          },
          "ip_address": {
            "type": "string"
          },
          "user_agent": {
            "type": "string"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "details": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "title": "额外信息"
          }
        },
        "title": "审计日志条目"
      },
      "authAuthorizeResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "title": "授权码"
          },
          "state": {
            "type": "string"
          }
        }
      },
      "authBulkCreateUsersRequest": {
        "type": "object",
        "properties": {
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/authRegisterRequest"
            }
          },
          "tenant_id": {
            "type": "string"
          },
          "idempotency_key": {
            "type": "string"
          }
        },
        "title": "批量创建用户"
      },
      "authBulkCreateUsersResponse": {
        "type": "object",
        "properties": {
          "created_users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/authUserInfo"
            }
          },
          "errors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "authChangePasswordRequest": {
        "type": "object",
        "properties": {
          "old_password": {
            "type": "string"
          },
          "new_password": {
            "type": "string"
          },
          "idempotency_key": {
            "type": "string"
          }
        },
        "title": "修改密码"
      },
      "authChangePasswordResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "authClient": {
        "type": "object",
        "properties": {
          "client_id": {
            "type": "string"
          },
          "client_secret": {
            "type": "string",
            "title": "只在创建时返回"
          },
          "name": {
            "type": "string"
          },
          "redirect_uris": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "回调地址"
          },
          "grant_types": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "authorization_code, refresh_token, client_credentials 等"
          },
          "scopes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "openid profile email 等"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          }
        },
        "title": "客户端（OAuth2）"
      },
      "authCreateAPIKeyRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "scopes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "可选"
          },
          "idempotency_key": {
            "type": "string"
          }
        }
      },
      "authCreateAPIKeyResponse": {
        "type": "object",
        "properties": {
          "api_key": {
            "type": "string",
            "title": "明文，只返回一次！"
          },
          "info": {
            "$ref": "#/components/schemas/authAPIKey"
          }
        }
      },
      "authCreateClientRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "redirect_uris": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "grant_types": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "scopes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "idempotency_key": {
            "type": "string"
          }
        }
      },
      "authCreateClientResponse": {
        "type": "object",
        "properties": {
          "client": {
            "$ref": "#/components/schemas/authClient"
          }
        }
      },
      "authCreatePolicyRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "version": {
            "type": "string"
          },
          "statements": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/authStatement"
            }
          },
          "context": {
            "$ref": "#/components/schemas/commonRequestContext"
          }
        }
      },
      "authCreatePolicyResponse": {
        "type": "object",
        "properties": {
          "policy": {
            "$ref": "#/components/schemas/authPolicy"
          }
        }
      },
      "authCreateRoleRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "title": "角色名称"
          },
          "description": {
            "type": "string",
            "title": "角色描述"
          },
          "context": {
            "$ref": "#/components/schemas/commonRequestContext"
          }
        },
        "title": "创建角色请求"
      },
      "authCreateRoleResponse": {
        "type": "object",
        "properties": {
          "role": {
            "$ref": "#/components/schemas/authRole"
          }
        },
        "title": "创建角色响应"
      },
      "authDeletePolicyResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "authDeleteRoleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "authEnable2FARequest": {
        "type": "object",
        "title": "启用2FA"
      },
      "authEnable2FAResponse": {
        "type": "object",
        "properties": {
          "secret_key": {
            "type": "string",
            "title": "TOTP 密钥"
          },
          "qr_code_url": {
            "type": "string",
            "title": "二维码图片URL（供前端显示）"
          }
        }
      },
      "authGetAuditLogsResponse": {
        "type": "object",
        "properties": {
          "logs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/authAuditLog"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/commonPaginationResponse"
          }
        }
      },
      "authGetMetricsResponse": {
        "type": "object",
        "properties": {
          "metrics": {
            "$ref": "#/components/schemas/authMetrics"
          }
        }
      },
      "authGetPolicyResponse": {
        "type": "object",
        "properties": {
          "policy": {
            "$ref": "#/components/schemas/authPolicy"
          }
        }
      },
      "authGetUserInfoResponse": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/components/schemas/authUserInfo"
          }
        },
        "title": "获取用户信息响应"
      },
      "authGetUserPermissionsResponse": {
        "type": "object",
        "properties": {
          "permissions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/authPermission"
            },
            "title": "权限列表"
          }
        },
        "title": "获取用户权限列表响应"
      },
      "authGlobalLogoutRequest": {
        "type": "object",
        "properties": {
          "access_token": {
            "type": "string"
          }
        }
      },
      "authGlobalLogoutResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "authHealthCheckResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "title": "\"SERVING\" \"NOT_SERVING\""
          }
        }
      },
      "authListAPIKeysResponse": {
        "type": "object",
        "properties": {
          "keys": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/authAPIKey"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/commonPaginationResponse"
          }
        }
      },
      "authListClientsResponse": {
        "type": "object",
        "properties": {
          "clients": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/authClient"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/commonPaginationResponse"
          }
        }
      },
      "authListPermissionsResponse": {
        "type": "object",
        "properties": {
          "permissions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/authPermission"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/commonPaginationResponse"
          }
        }
      },
      "authListPoliciesResponse": {
        "type": "object",
        "properties": {
          "policies": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/authPolicy"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/commonPaginationResponse"
          }
        }
      },
      "authListRolesResponse": {
        "type": "object",
        "properties": {
          "roles": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/authRole"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/commonPaginationResponse"
          }
        }
      },
      "authListUserSessionsResponse": {
        "type": "object",
        "properties": {
          "sessions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/authUserSession"
            }
          }
        }
      },
      "authListUsersResponse": {
        "type": "object",
        "properties": {
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/authUserInfo"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/commonPaginationResponse"
          }
        }
      },
      "authLoginRequest": {
        "type": "object",
        "properties": {
          "tenant_id": {
            "type": "string",
            "title": "可选，支持多租户登录"
          },
          "username": {
            "type": "string",
            "title": "用户名"
          },
          "password": {
            "type": "string",
            "title": "密码"
          },
          "idempotency_key": {
            "type": "string"
          }
        },
        "title": "登录请求"
      },
      "authLoginResponse": {
        "type": "object",
        "properties": {
          "access_token": {
            "type": "string",
            "title": "访问令牌"
          },
          "refresh_token": {
            "type": "string",
            "title": "刷新令牌"
          },
          "expires_in": {
            "type": "string",
            "format": "int64",
            "title": "过期时间（秒）"
          },
          "user": {
            "$ref": "#/components/schemas/authUserInfo"
          },
          "requires_2fa": {
            "type": "boolean",
            "title": "是否需要二次验证"
          },
          "account_locked": {
            "type": "boolean",
            "title": "账号是否被锁定"
          },
          "lock_until": {
            "type": "string",
            "format": "date-time",
            "title": "锁定到期时间"
          },
          "temp_token": {
            "type": "string",
            "title": "2FA 临时 token"
          }
        },
        "title": "登录响应"
      },
      "authLogoutRequest": {
        "type": "object",
        "properties": {
          "access_token": {
            "type": "string",
            "title": "访问令牌（用于撤销）"
          },
          "refresh_token": {
            "type": "string",
            "title": "刷新令牌（用于撤销）"
          }
        },
        "title": "登出请求"
      },
      "authLogoutResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "title": "是否成功"
          }
        },
        "title": "登出响应"
      },
      "authMetrics": {
        "type": "object",
        "properties": {
          "total_users": {
            "type": "string",
            "format": "int64"
          },
          "active_sessions": {
            "type": "string",
            "format": "int64"
          },
          "login_attempts_last_hour": {
            "type": "string",
            "format": "int64"
          },
          "failed_logins_last_hour": {
            "type": "string",
            "format": "int64"
          }
        },
        "title": "指标"
      },
      "authPermission": {
        "type": "object",
        "properties": {
          "permission_id": {
            "type": "string",
            "title": "权限ID"
          },
          "resource": {
            "type": "string",
            "title": "资源名称（如：sales_order）"
          },
          "actions": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "操作类型（如：create, read, update, delete）"
          },
          "scope": {
            "type": "string",
            "title": "如 \"own\"（仅自己数据）或 \"all\""
          },
          "attributes": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "title": "条件权限，如 {\"department_id\": \"{user.department_id}\"}"
          },
          "description": {
            "type": "string",
            "title": "权限描述"
          }
        },
        "title": "权限"
      },
      "authPolicy": {
        "type": "object",
        "properties": {
          "policy_id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "version": {
            "type": "string",
            "title": "\"v1\""
          },
          "statements": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/authStatement"
            }
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          }
        },
        "title": "权限策略"
      },
      "authRefreshTokenRequest": {
        "type": "object",
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "刷新令牌"
          }
        },
        "title": "刷新令牌请求"
      },
      "authRefreshTokenResponse": {
        "type": "object",
        "properties": {
          "access_token": {
            "type": "string",
            "title": "新访问令牌"
          },
          "refresh_token": {
            "type": "string",
            "title": "新刷新令牌"
          },
          "expires_in": {
            "type": "string",
            "format": "int64",
            "title": "过期时间（秒）"
          }
        },
        "title": "刷新令牌响应"
      },
      "authRegisterRequest": {
        "type": "object",
        "properties": {
          "tenant_id": {
            "type": "string",
            "title": "指定租户（管理员创建用户时用）"
          },
          "username": {
            "type": "string",
            "title": "用户名"
          },
          "email": {
            "type": "string",
            "title": "邮箱"
          },
          "password": {
            "type": "string",
            "title": "密码"
          },
          "idempotency_key": {
            "type": "string",
            "title": "幂等性支持"
          }
        },
        "title": "用户注册请求"
      },
      "authRegisterResponse": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/components/schemas/authUserInfo"
          }
        },
        "title": "用户注册响应"
      },
      "authRemovePermissionFromRoleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "authRemoveRoleFromUserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "authResetPasswordRequest": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "title": "重置令牌"
          },
          "new_password": {
            "type": "string"
          },
          "idempotency_key": {
            "type": "string"
          }
        },
        "title": "重置密码"
      },
      "authResetPasswordResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "authRevokeAPIKeyResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "authRevokeSessionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "authRole": {
        "type": "object",
        "properties": {
          "role_id": {
            "type": "string",
            "title": "角色ID"
          },
          "name": {
            "type": "string",
            "title": "角色名称"
          },
          "description": {
            "type": "string",
            "title": "角色描述"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "创建时间"
          }
        },
        "title": "角色"
      },
      "authSSOLoginRequest": {
        "type": "object",
        "properties": {
          "provider": {
            "$ref": "#/components/schemas/commonAuthProvider"
          },
          "assertion": {
            "type": "string"
          }
        }
      },
      "authSSOLoginResponse": {
        "type": "object",
        "properties": {
          "access_token": {
            "type": "string"
          },
          "refresh_token": {
            "type": "string"
          },
          "expires_in": {
            "type": "string",
            "format": "int64"
          },
          "user": {
            "$ref": "#/components/schemas/authUserInfo"
          }
        }
      },
      "authSendPasswordResetTokenRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "title": "或 username/phone"
          }
        },
        "title": "发送重置密码令牌（邮箱或手机号）"
      },
      "authSendPasswordResetTokenResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "authSocialLoginRequest": {
        "type": "object",
        "properties": {
          "provider": {
            "$ref": "#/components/schemas/commonAuthProvider"
          },
          "code": {
            "type": "string",
            "title": "授权码"
          },
          "redirect_uri": {
            "type": "string"
          }
        }
      },
      "authStatement": {
        "type": "object",
        "properties": {
          "effect": {
            "type": "string",
            "title": "\"Allow\" or \"Deny\""
          },
          "actions": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "\"sales_order:create\""
          },
          "resources": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "\"arn:tenant:123:order:*\""
          },
          "conditions": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "title": "复杂条件"
          }
        }
      },
      "authTokenRequest": {
        "type": "object",
        "properties": {
          "grant_type": {
            "type": "string",
            "title": "authorization_code, refresh_token, client_credentials"
          },
          "code": {
            "type": "string"
          },
          "redirect_uri": {
            "type": "string"
          },
          "client_id": {
            "type": "string"
          },
          "client_secret": {
            "type": "string"
          },
          "refresh_token": {
            "type": "string"
          }
        }
      },
      "authTokenResponse": {
        "type": "object",
        "properties": {
          "access_token": {
            "type": "string"
          },
          "token_type": {
            "type": "string",
            "title": "\"Bearer\""
          },
          "refresh_token": {
            "type": "string"
          },
          "expires_in": {
            "type": "string",
            "format": "int64"
          },
          "scope": {
            "type": "string"
          },
          "id_token": {
            "type": "string",
            "title": "OpenID Connect ID Token (JWT)"
          }
        }
      },
      "authUpdateUserProfileRequest": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "string"
          },
          "display_name": {
            "type": "string"
          },
          "avatar_url": {
            "type": "string",
            "title": "新增字段建议"
          },
          "idempotency_key": {
            "type": "string"
          }
        },
        "title": "更新用户资料"
      },
      "authUpdateUserProfileResponse": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/components/schemas/authUserInfo"
          }
        }
      },
      "authUpdateUserStatusResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "authUserFilter": {
        "type": "object",
        "properties": {
          "statuses": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "created_range": {
            "$ref": "#/components/schemas/commonDateRange"
          }
        }
      },
      "authUserInfo": {
        "type": "object",
        "properties": {
          "tenant_id": {
            "type": "string",
            "title": "用户所属租户"
          },
          "user_id": {
            "type": "string",
            "title": "用户ID"
          },
          "username": {
            "type": "string",
            "title": "用户名"
          },
          "email": {
            "type": "string",
            "title": "邮箱"
          },
          "display_name": {
            "type": "string",
            "title": "显示名称"
          },
          "avatar_url": {
            "type": "string",
            "title": "头像"
          },
          "email_verified": {
            "type": "boolean",
            "title": "邮箱是否验证"
          },
          "is_active": {
            "type": "boolean",
            "title": "账号是否启用"
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "角色列表"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "更新时间"
          },
          "last_login_at": {
            "type": "string",
            "format": "date-time",
            "title": "最后登录时间"
          }
        },
        "title": "用户信息"
      },
      "authUserInfoResponse": {
        "type": "object",
        "properties": {
          "sub": {
            "type": "string",
            "title": "user_id"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "email_verified": {
            "type": "boolean"
          },
          "picture": {
            "type": "string",
            "title": "可扩展其他 claims"
          }
        }
      },
      "authUserSession": {
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string"
          },
          "device_name": {
            "type": "string",
            "title": "如 \"Chrome on Windows\""
          },
          "ip_address": {
            "type": "string"
          },
          "location": {
            "type": "string",
            "title": "approximate location"
          },
          "last_active": {
            "type": "string",
            "format": "date-time"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "is_current": {
            "type": "boolean",
            "title": "是否是当前会话"
          }
        },
        "title": "当前会话信息"
      },
      "authValidateTokenRequest": {
        "type": "object",
        "properties": {
          "access_token": {
            "type": "string",
            "title": "访问令牌"
          }
        },
        "title": "验证令牌请求"
      },
      "authValidateTokenResponse": {
        "type": "object",
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "是否有效"
          },
          "user_id": {
            "type": "string",
            "title": "用户ID"
          },
          "tenant_id": {
            "type": "string",
            "title": "租户ID"
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "用户角色列表"
          },
          "permissions": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "用户权限列表"
          }
        },
        "title": "验证令牌响应"
      },
      "authVerify2FACodeRequest": {
        "type": "object",
        "properties": {
          "temp_token": {
            "type": "string",
            "title": "Login 返回的临时 token"
          },
          "code": {
            "type": "string"
          }
        },
        "title": "验证2FA代码"
      },
      "authVerify2FACodeResponse": {
        "type": "object",
        "properties": {
          "access_token": {
            "type": "string"
          },
          "refresh_token": {
            "type": "string"
          },
          "expires_in": {
            "type": "string",
            "format": "int64"
          }
        }
      },
      "authVerify2FARequest": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "title": "用户输入的6位代码"
          }
        },
        "title": "验证2FA设置"
      },
      "authVerify2FAResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "authVerifyEmailRequest": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string"
          }
        },
        "title": "邮箱验证"
      },
      "authVerifyEmailResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "commonAuthProvider": {
        "type": "string",
        "enum": [
          "AUTH_PROVIDER_UNSPECIFIED",
          "AUTH_PROVIDER_EMAIL",
          "AUTH_PROVIDER_GOOGLE",
          "AUTH_PROVIDER_MICROSOFT",
          "AUTH_PROVIDER_GITHUB",
          "AUTH_PROVIDER_SSO",
          "AUTH_PROVIDER_LDAP"
        ],
        "default": "AUTH_PROVIDER_UNSPECIFIED",
        "title": "认证提供商"
      },
      "commonDateRange": {
        "type": "object",
        "properties": {
          "start_date": {
            "type": "string",
            "format": "date-time"
          },
          "end_date": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "commonPaginationRequest": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "page_size": {
            "type": "integer",
            "format": "int32"
          },
          "sort_by": {
            "type": "string"
          },
          "descending": {
            "type": "boolean"
          }
        }
      },
      "commonPaginationResponse": {
        "type": "object",
        "properties": {
          "current_page": {
            "type": "integer",
            "format": "int32"
          },
          "page_size": {
            "type": "integer",
            "format": "int32"
          },
          "total_items": {
            "type": "string",
            "format": "int64"
          },
          "total_pages": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "commonRequestContext": {
        "type": "object",
        "properties": {
          "request_id": {
            "type": "string"
          },
          "tenant_id": {
            "type": "string"
          },
          "user_id": {
            "type": "string"
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "idempotency_key": {
            "type": "string"
          },
          "locale": {
            "type": "string"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "source_system": {
            "type": "string"
          },
          "correlation_id": {
            "type": "string"
          }
        }
      },
      "protobufAny": {
        "type": "object",
        "properties": {
          "@type": {
            "type": "string",
            "description": "A URL/resource name that uniquely identifies the type of the serialized\nprotocol buffer message. This string must contain at least\none \"/\" character. The last segment of the URL's path must represent\nthe fully qualified name of the type (as in\n`path/google.protobuf.Duration`). The name should be in a canonical form\n(e.g., leading \".\" is not accepted).\n\nIn practice, teams usually precompile into the binary all types that they\nexpect it to use in the context of Any. However, for URLs which use the\nscheme `http`, `https`, or no scheme, one can optionally set up a type\nserver that maps type URLs to message definitions as follows:\n\n* If no scheme is provided, `https` is assumed.\n* An HTTP GET on the URL must yield a [google.protobuf.Type][]\n  value in binary format, or produce an error.\n* Applications are allowed to cache lookup results based on the\n  URL, or have them precompiled into a binary to avoid any\n  lookup. Therefore, binary compatibility needs to be preserved\n  on changes to types. (Use versioned type names to manage\n  breaking changes.)\n\nNote: this functionality is not currently available in the official\nprotobuf release, and it is not used for type URLs beginning with\ntype.googleapis.com. As of May 2023, there are no widely used type server\nimplementations and no plans to implement one.\n\nSchemes other than `http`, `https` (or the empty scheme) might be\nused with implementation specific semantics."
          }
        },
        "additionalProperties": {},
        "description": "`Any` contains an arbitrary serialized protocol buffer message along with a\nURL that describes the type of the serialized message.\n\nProtobuf library provides support to pack/unpack Any values in the form\nof utility functions or additional generated methods of the Any type.\n\nExample 1: Pack and unpack a message in C++.\n\n    Foo foo = ...;\n    Any any;\n    any.PackFrom(foo);\n    ...\n    if (any.UnpackTo(&foo)) {\n      ...\n    }\n\nExample 2: Pack and unpack a message in Java.\n\n    Foo foo = ...;\n    Any any = Any.pack(foo);\n    ...\n    if (any.is(Foo.class)) {\n      foo = any.unpack(Foo.class);\n    }\n    // or ...\n    if (any.isSameTypeAs(Foo.getDefaultInstance())) {\n      foo = any.unpack(Foo.getDefaultInstance());\n    }\n\n Example 3: Pack and unpack a message in Python.\n\n    foo = Foo(...)\n    any = Any()\n    any.Pack(foo)\n    ...\n    if any.Is(Foo.DESCRIPTOR):\n      any.Unpack(foo)\n      ...\n\n Example 4: Pack and unpack a message in Go\n\n     foo := &pb.Foo{...}\n     any, err := anypb.New(foo)\n     if err != nil {\n       ...\n     }\n     ...\n     foo := &pb.Foo{}\n     if err := any.UnmarshalTo(foo); err != nil {\n       ...\n     }\n\nThe pack methods provided by protobuf library will by default use\n'type.googleapis.com/full.type.name' as the type URL and the unpack\nmethods only use the fully qualified type name after the last '/'\nin the type URL, for example \"foo.bar.com/x/y.z\" will yield type\nname \"y.z\".\n\nJSON\n====\nThe JSON representation of an `Any` value uses the regular\nrepresentation of the deserialized, embedded message, with an\nadditional field `@type` which contains the type URL. Example:\n\n    package google.profile;\n    message Person {\n      string first_name = 1;\n      string last_name = 2;\n    }\n\n    {\n      \"@type\": \"type.googleapis.com/google.profile.Person\",\n      \"firstName\": <string>,\n      \"lastName\": <string>\n    }\n\nIf the embedded message type is well-known and has a custom JSON\nrepresentation, that representation will be embedded adding a field\n`value` which holds the custom JSON in addition to the `@type`\nfield. Example (for message [google.protobuf.Duration][]):\n\n    {\n      \"@type\": \"type.googleapis.com/google.protobuf.Duration\",\n      \"value\": \"1.212s\"\n    }"
      },
      "rpcStatus": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "format": "int32"
          },
          "message": {
            "type": "string"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/protobufAny"
            }
          }
        }
      }
    }
  }
}